# ~/.tmuxinator/mobi.yml

name: mobi
root: ~/dev/mobiwize/mw-server/

# Optional tmux socket
# socket_name: foo

# Runs before everything. Use it to start daemons etc.
pre:

# Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.
pre_window:

# Pass command line options to tmux. Useful for specifying a different tmux.conf.
# tmux_options: -f ~/.tmux.mac.conf
tmux_options: -u2

# Change the command to call tmux.  This can be used by derivatives/wrappers like byobu.
# tmux_command: byobu

windows:
    - htop:
        layout: main-horizontal
        panes:
            - htop --sort-key PERCENT_CPU --delay=15
    - mw-server:
        root: ~/dev/mobiwize/mw-server/mw-server/
        panes:
            - pwd && git status
    - mw-maptools:
        root: ~/dev/mobiwize/mw-server/mw-maptools/
        layout: main-horizontal
        panes:
            - rvm use @mwmt && vim .
    - sql:
        root: ~/dev/mobiwize/mw-server/mw-maptools/pgSQL/
        layout: main-horizontal
        panes:
            - sleep 60 && psql -U mobidba -d mwmap_dev -h localhost -p 5432
            - docker run --rm -p 5432:5432 --name mobi_db registry.mobiwize:5000/ci-db-clean
    - redis:
        layout: main-horizontal
        panes:
            - sleep 10 && redis-cli -p 6379
            - docker run --rm -p 6379:6379 --name mobi_redis registry.mobiwize:5000/redis
