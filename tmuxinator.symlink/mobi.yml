# ~/.tmuxinator/mobi.yml

name: mobi
root: ~/dev/mobiwize/mw-server/

# Optional tmux socket
# socket_name: foo

# Runs before everything. Use it to start daemons etc.
pre: docker-compose up --build -d redis db osmdb

# Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.
pre_window:

# Pass command line options to tmux. Useful for specifying a different tmux.conf.
# tmux_options: -f ~/.tmux.mac.conf
tmux_options: -u2

# Change the command to call tmux.  This can be used by derivatives/wrappers like byobu.
# tmux_command: byobu

windows:
    - htop: htop --sort-key PERCENT_CPU --delay=15
    - shell: git status
    - mw-server:
        root: ~/dev/mobiwize/mw-server/mw-server/
        panes:
            - pwd && git status
    - mw-maptools:
        root: ~/dev/mobiwize/mw-server/mw-maptools/
        layout: main-horizontal
        panes:
            - rvm use @mwmt && vim .
    - sql:
        panes:
            - sleep 10 && psql -U mobidba -d mwmap_dev -h localhost -p 5432
    - redis:
        layout: main-horizontal
        panes:
            - sleep 10 && redis-cli -p 6379
